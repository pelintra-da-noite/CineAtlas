:root{
  --accent:#d8a300;          /* toasted yellow */
  --brand-red:#8b0000;       /* dark red */

  --text-main:#fff9d6;
  --text-dim:#cfc7a0;
  --bg-deep:#000;
  --panel-bg:rgba(0,0,0,.8);
  --panel-border:rgba(216,163,0,.6);
  --panel-glow:rgba(216,163,0,.35);
  --lang-border:rgba(216,163,0,.35);
}

/* FULL LIGHT THEME */
html[data-theme="light"]{
  --text-main:#1c1a14;
  --text-dim:#3b3729;
  --bg-deep:#f7f3e7;
  --panel-bg:rgba(255,255,255,.92);
  --panel-border:rgba(216,163,0,.55);
  --panel-glow:rgba(216,163,0,.22);
  --lang-border:rgba(216,163,0,.45);
}

html,body{
  margin:0;
  padding:0;
  height:100%;
  overflow:hidden;
  background:var(--bg-deep);
  font-family:'Inter',system-ui,-apple-system,Roboto,sans-serif;
  color:var(--text-main);
}

* {
  transition: color .25s ease,
              background-color .25s ease,
              border-color .25s ease,
              box-shadow .25s ease;
}

/* ===== HEADER ===== */
header{
  position:absolute;
  top:18px;
  width:100%;
  text-align:center;
  font-family:'Playfair Display',serif;
  font-size:3rem;
  font-style:italic;
  font-weight:600; /* semibold */
  color:var(--brand-red);
  text-shadow:
    0 0 10px rgba(0,0,0,.9),
    0 3px 18px rgba(0,0,0,1);
  z-index:1200;
  cursor:default;
  user-select:none;
  pointer-events:auto;
  opacity:0;
  animation: fadeSlideIn 1s ease forwards;
}

/* Subtítulo */
#tagline{
  position:absolute;
  top:90px;
  width:100%;
  text-align:center;
  font-size:.9rem;
  font-weight:500;
  letter-spacing:.08em;
  text-transform:uppercase;
  color:var(--text-dim);
  z-index:1190;
  text-shadow:
    0 0 6px rgba(0,0,0,.9),
    0 2px 10px rgba(0,0,0,.9);
  opacity:0;
  animation: fadeSlideIn 1s ease forwards .2s;
}

html[data-theme="light"] header{
  color:#b02323;
  text-shadow:
    0 0 7px rgba(255,255,255,.8),
    0 2px 13px rgba(0,0,0,.25);
}

html[data-theme="light"] #tagline{
  color:#5e5230;
  text-shadow:
    0 0 4px rgba(255,255,255,.9),
    0 2px 9px rgba(0,0,0,.18);
}

/* Starfield canvas (dark mode) */
#starsCanvas{
  position:fixed;
  inset:0;
  z-index:0;
  pointer-events:none;
  opacity:1;
  /* halo muito discreto no topo (quase invisível) */
  background:radial-gradient(circle at top, rgba(255,255,255,0.02) 0, transparent 55%);
}
html[data-theme="light"] #starsCanvas{ opacity:0; }

#globeViz{
  position:absolute;
  inset:0;
  z-index:1;
  opacity:0;
  animation:fadeIn 1s forwards .4s;
}
@keyframes fadeIn{to{opacity:1;}}

/* Fade + slide-in genérico (header, tagline, barras) */
@keyframes fadeSlideIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Initial fade-in */
#fadeOverlay{
  position:fixed;
  inset:0;
  background:#000;
  opacity:1;
  z-index:3000;
  transition:opacity 1s ease;
  pointer-events:none;
}

/* Theme fade overlay */
#themeFade {
  position: fixed;
  inset: 0;
  background: var(--bg-deep);
  opacity: 0;
  pointer-events: none;
  transition: opacity .28s ease;
  z-index: 2500;
}

/* THEME SWITCH + RANDOM (top-right) */
#themeSwitch{
  position:absolute;
  top:14px;
  right:16px;
  z-index:1300;
  display:flex;
  align-items:center;
  gap:.45rem;
  background:rgba(0,0,0,.32);
  border:1px solid #c01624;        /* OUTLINE VERMELHO */
  padding:.3rem .6rem;
  border-radius:999px;
  box-shadow:0 0 10px rgba(0,0,0,.7);
  backdrop-filter:blur(8px);
  opacity:0;
  animation: fadeSlideIn 1s ease forwards .4s;
}
html[data-theme="light"] #themeSwitch{
  background:rgba(255,255,255,.75);
  border-color:#c01624;            /* mantém vermelho em light mode */
  box-shadow:0 0 8px rgba(0,0,0,.18);
}

/* ícone de tema (lua/sol minimal) */
#themeLabel{
  width:32px;
  height:32px;
  display:flex;
  align-items:center;
  justify-content:center;
  color:var(--accent);
  flex-shrink:0;
}
#themeLabel svg{
  width:24px;
  height:24px;
  display:block;
}
.icon-sun-min circle{
  stroke:currentColor;
  stroke-width:1.8;
  fill:none;
}
.icon-moon-min path{
  fill:none;
  stroke:currentColor;
  stroke-width:1.8;
  stroke-linecap:round;
  stroke-linejoin:round;
}

/* Slider minimal */
.switch {
  position: relative;
  width: 48px;
  height: 24px;
  display:inline-block;
  flex-shrink:0;
}
.switch input { display:none; }

.slider {
  position:absolute;
  cursor:pointer;
  inset:0;
  background:rgba(150,150,150,.25);  /* mais cinzento em dark mode */
  border-radius:999px;
  transition:.2s;
}
html[data-theme="light"] .slider{
  background:rgba(0,0,0,.06);
}
.slider:before {
  content:"";
  position:absolute;
  height:18px;
  width:18px;
  left:3px;
  top:3px;
  background:#ffffff;
  border-radius:50%;
  transition:.2s;
  box-shadow:0 2px 4px rgba(0,0,0,.35);
}
input:checked + .slider {
  background:rgba(216,163,0,.35);
}
input:checked + .slider:before {
  transform: translateX(22px);
}

/* Randomizer button minimal */
.iconBtn{
  margin-left:.1rem;
  width:34px;
  height:34px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.14);
  background:transparent;
  color:var(--accent);
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  padding:0;
  box-shadow:none;
  transition: background .15s ease, color .15s ease, border-color .15s ease;
}
.iconBtn:hover{
  background:rgba(216,163,0,.16);
  color:var(--accent);
  border-color:var(--accent);
}
html[data-theme="light"] .iconBtn{
  border-color:rgba(0,0,0,.12);
  color:#b02323;
}

/* animação do dado ao clicar */
.iconBtn.is-rolling{
  animation: dice-roll 0.6s ease-in-out;
}

@keyframes dice-roll{
  0%   { transform: translateY(0) rotate(0deg); }
  20%  { transform: translateY(-2px) rotate(-12deg); }
  40%  { transform: translateY(1px) rotate(10deg); }
  60%  { transform: translateY(-1px) rotate(-6deg); }
  80%  { transform: translateY(0px) rotate(4deg); }
  100% { transform: translateY(0) rotate(0deg); }
}

.icon-die{
  width:24px;
  height:24px;
  stroke:currentColor;
  fill:none;
  stroke-width:1.6;
}
.icon-die rect{
  rx:3;
  ry:3;
}
.icon-die circle{
  fill:currentColor;
  stroke:none;
}

/* Language (bottom-right) */
#controlsBar{
  position:absolute;
  right:20px;
  bottom:20px;
  z-index:1300;
  display:flex;
  gap:.5rem;
  align-items:center;
  background:rgba(0,0,0,.6);
  border:1px solid #c01624;
  border-radius:10px;
  padding:.4rem .5rem;
  box-shadow:0 0 12px var(--panel-glow);
  opacity:0;
  animation: fadeSlideIn 1s ease forwards .6s;
}
html[data-theme="light"] #controlsBar{ background:rgba(255,255,255,.8); }

.langBtn{
  appearance:none;
  background:transparent;
  border:1px solid var(--lang-border);
  color:var(--text-dim);
  padding:.45rem .8rem;      /* mais próximo do Support us */
  border-radius:8px;
  cursor:pointer;
  font-size:.8rem;
  font-weight:700;
  min-width:110px;
  text-align:center;
  transition: color .15s ease, background .15s ease, border-color .15s ease;
}
.langBtn:hover{
  background:rgba(216,163,0,.15);
  color:var(--text-main);
}
.langBtn.active{
  background:var(--accent);
  color:#000;
  border-color:var(--accent);
}
html[data-theme="light"] .langBtn{ color:#6b5b2a; }
html[data-theme="light"] .langBtn.active{ color:#000; }

/* Donate (bottom-left) */
#donateBar{
  position:absolute;
  left:20px;
  bottom:20px;
  z-index:1300;
  display:flex;
  flex-direction:row;
  align-items:center;
  justify-content:flex-start;
  gap:.5rem;                   /* espaço entre botão e créditos */
  background:rgba(0,0,0,.6);
  border:1px solid #c01624;
  border-radius:10px;
  padding:.35rem .40rem;       /* menor padding lateral para aproximar o botão do contorno */
  box-shadow:0 0 12px var(--panel-glow);
  opacity:0;
  animation: fadeSlideIn 1s ease forwards .6s;
}
html[data-theme="light"] #donateBar{
  background:rgba(255,255,255,.8);
}

.donateBtn{
  appearance:none;
  background:var(--accent);
  color:#000;
  border:1px solid transparent;
  border-radius:8px;
  box-sizing:border-box;
  padding:.45rem .9rem;
  font-weight:800;
  cursor:pointer;
  text-decoration:none;
  box-shadow:0 0 10px var(--panel-glow);
  transition: box-shadow .15s ease, background .15s ease, color .15s ease, border-color .15s ease;
}
.donateBtn:hover{
  background:#000;
  color:var(--accent);
  border-color:var(--accent);
}
html[data-theme="light"] .donateBtn{
  box-shadow:0 0 10px rgba(216,163,0,.35);
}

#credits{
  font-size:.75rem;
  font-weight:500;
  color:var(--text-dim);
  letter-spacing:.03em;
  text-align:center;
  line-height:1;
  user-select:none;
}

/* POPUP – cinematic glass */
#popup{
  position:fixed;
  top:50%;
  left:50%;
  transform:translate(-50%,-46%) scale(.96); /* um pouco mais baixo para o slide */
  width:min(720px, 92vw);
  max-height:80vh;
  min-height:360px;
  background:linear-gradient(135deg, rgba(0,0,0,0.36), rgba(20,12,0,0.72));
  color:var(--text-main);
  padding:1.1rem 1.2rem 1rem;
  border-radius:18px;
  box-shadow:0 24px 60px rgba(0,0,0,.85), 0 0 0 1px rgba(216,163,0,0.45);
  backdrop-filter:blur(22px) saturate(120%);
  -webkit-backdrop-filter:blur(22px) saturate(120%);
  z-index:1250;
  display:none;
  opacity:0;
  transition:opacity .25s ease,transform .25s ease;
  overflow:hidden;
}

/* popup fade + slide suave */
@keyframes popupIn {
  from {
    opacity:0;
    transform:translate(-50%,-46%) scale(.96);
  }
  to {
    opacity:1;
    transform:translate(-50%,-50%) scale(1);
  }
}

#popup.show{
  display:flex;
  flex-direction:column;
  animation: popupIn .28s ease-out forwards;
}

#popupHeader{
  display:flex;
  align-items:center;
  justify-content:space-between;
  margin-bottom:.8rem;
}
#countryBlock{
  font-size:.85rem;
  line-height:1.3;
  font-weight:700;
  color:var(--accent);
  display:flex;
  align-items:center;
  gap:.45rem;
  letter-spacing:.08em;
  text-transform:uppercase;
}
#countryFlagImg{
  height:18px;
  width:auto;
  border-radius:3px;
  box-shadow:none;
}
#countryName{ font-size:.92rem; }

#closePopup{
  background:transparent;
  color:var(--text-dim);
  border:1px solid rgba(255,255,255,.18);
  font-size:1.05rem;
  width:1.9rem;
  height:1.9rem;
  border-radius:999px;
  cursor:pointer;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:0;
  box-shadow:none;
  transition:background .15s ease,color .15s ease,border-color .15s ease;
}
#closePopup span{
  display:block;
  line-height:1;
  transform: translateY(1px); /* ligeiramente mais baixo para ficar centrado */
}
#closePopup:hover{
  background:var(--accent);
  color:#000;
  border-color:var(--accent);
}

#popupBody{
  display:flex;
  flex-direction:row;
  align-items:flex-start;
  gap:1rem;
  flex:1;
  overflow:hidden;
}

.posterCol{ flex:0 0 210px;max-width:210px; }
#moviePoster{
  width:100%;
  max-width:210px;
  border-radius:12px;
  box-shadow:none;
  border:1px solid rgba(255,255,255,.14);
  display:block;
}

.infoCol{
  flex:1;
  min-width:0;
  display:flex;
  flex-direction:column;
  min-height:0;
}

#titleBlock{
  margin:0 0 .45rem;
}
#movieTitleOriginal{
  margin:0;
  font-size:1.15rem;
  line-height:1.3;
  color:var(--accent);
  font-weight:800;
  letter-spacing:.03em;
}
#movieTitleTranslated{
  margin-top:0.18rem;
  font-size:.9rem;
  line-height:1.3;
  color:var(--text-main);
  opacity:.9;
}

.directorLine{
  font-size:.85rem;
  line-height:1.3;
  color:var(--text-main);
  font-weight:600;
  margin:0 0 .55rem;
  opacity:.95;
}
#overviewText{
  font-size:.9rem;
  line-height:1.55;
  color:var(--text-dim);
  margin:0;
  flex:1;
  overflow:auto;
  padding-right:.25rem;
}

.actionsRow{
  margin-top:auto;
  padding-top:.7rem;
  display:flex;
  flex-wrap:wrap;
  gap:.55rem;
}
.actionBtn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  text-align:center;
  background:var(--accent);
  color:#000;
  text-decoration:none;
  padding:.42rem .8rem;
  border-radius:999px;
  font-weight:500;      /* sem bold exagerado */
  font-size:.78rem;
  letter-spacing:.06em;
  text-transform:uppercase;
  cursor:pointer;
  border:1px solid transparent;
  box-sizing:border-box;
  box-shadow:none;
  transition: background .15s ease, color .15s ease, border-color .15s ease;
}
.actionBtn:hover{
  background:#000;
  color:var(--accent);
  border-color:var(--accent);
}

/* botão Another em vermelho, à direita */
#anotherBtn{
  background:transparent;
  color:#c01624;
  border-color:#c01624;
}
#anotherBtn:hover{
  background:#c01624;
  color:#000;
  border-color:#c01624;
}

/* Light theme popup */
html[data-theme="light"] #popup{
  background:linear-gradient(135deg, rgba(255,255,255,0.70), rgba(252,244,220,0.86));
  box-shadow:0 18px 40px rgba(0,0,0,.18), 0 0 0 1px rgba(216,163,0,.45);
  backdrop-filter:blur(130%);
  -webkit-backdrop-filter:blur(130%);
}
html[data-theme="light"] #overviewText{ color:#5a4c26; }
html[data-theme="light"] #closePopup{
  color:#7a6b2b;
  border-color:rgba(0,0,0,.08);
}
html[data-theme="light"] #closePopup:hover{
  background:var(--accent);
  color:#000;
  border-color:var(--accent);
}

/* Snow */
#snowOverlay{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:2000;
  opacity:0;
  transition:opacity 0.9s ease-out;
}
#snowOverlay.show{ opacity:1; }

/* Responsividade */
@media (max-width: 900px){
  #themeSwitch{ top:12px;right:12px; transform:scale(.9); }
  #controlsBar,#donateBar{ bottom:14px; }
  #tagline{ top:80px; font-size:.8rem; padding:0 .75rem; }
}
@media (max-width: 720px){
  #popup{
    padding:0.9rem 0.9rem 0.8rem;
    border-radius:14px;
    width:94vw;
    max-height:78vh;
    min-height:340px;
  }
  #popupBody{ flex-direction:column; }
  .posterCol{ align-self:center; flex:0 0 auto; max-width:70%; }
  #moviePoster{ max-width:100%; }
  .infoCol{ width:100%; }
  #movieTitleOriginal{ font-size:1.05rem; }
  #controlsBar, #donateBar{
    padding:.35rem .4rem;
    gap:.35rem;
  }
  .langBtn{
    padding:.35rem .7rem;
    min-width:auto;
  }
  .donateBtn{
    padding:.4rem .65rem;
    font-size:.78rem;
  }
}
@media (max-width: 480px){
  header{ font-size:2.2rem; }
  #tagline{ top:76px; font-size:.75rem; }
  #themeSwitch{ transform:scale(.85); }
}
